# 工作环境安装

### 环境安装

```bash
sudo apt-get install -y bison build-essential curl flex g++-multilib gcc-multilib gnupg gperf lib32z-dev lib32z1 libc6-dev-i386 libgl1-mesa-dev libncurses5 lib32ncurses5-dev libssl-dev libx11-dev libxml2-utils m4 unzip x11proto-core-dev xsltproc zip zlib1g-dev bsdmainutils cgpt libswitch-perl bc rsync xxd git-core parallel python3 libfuse2 docker.io openjdk-8-jdk python2.7
```

### 配置git

```bash
git config --global user.name pengyujie
git config --global user.email pengyujie@nbbsw.com
git config --global color.ui true
git config --global pull.rebase true 
git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --"

```

### 卸载火狐

安装edge后再卸载

1.查找火狐浏览器的安装包内容

```bash
dpkg --get-selections |grep firefox

```

2.卸载安装小包

```bash
sudo apt-get purge firefox firefox-locale-en firefox-locale-zh-hans
```

# 安装amd显卡驱动

<https://linuxconfig.org/amd-radeon-ubuntu-20-04-driver-installation>

```bash
sudo lshw -c video
```

#### 添加第三方源

```bash
sudo add-apt-repository ppa:oibaf/graphics-drivers
sudo apt update && sudo apt -y upgrade

```

#### 下载官方驱动deb

```bash
sudo dpkg -i <deb>
sudo amdgpu-install
```

# 设置swap分区

```bash
#关闭旧的swap 
sudo swapoff /swapfile 
#删除旧的swap文件 
sudo rm /swapfile 
#创建swap文件系统 
sudo fallocate -l 16G /swapfile 
sudo chmod 600 /swapfile
sudo mkswap -f /swapfile 
#开启
sudo swap swapon /swapfile
```

### git拉代码出现

[pengyujie@192.168.50.56](mailto:penge@192.168.50.56 "pengyujie@192.168.50.56"): Permission denied (keyboard-interactive).
fatal: 无法读取远程仓库。

请确认您有正确的访问权限并且仓库存在。

ssh -V查看ssh和openssl版本

1.  OpenSSH\_8.2p1, OpenSSL 1.1.1f  31 Mar 2020

2.  OpenSSH\_8.9p1 Ubuntu-3, OpenSSL 3.0.2 15 Mar 2022

版本1 OK，版本2 NOK。Ubuntu22.04使用apt安装为版本2，需要卸载ssh openssl后手动安装。

sudo apt-get remove openssh-client openssh-dev openssl

下载地址

[https://developer.aliyun.com/packageSearch?word=openssl](https://developer.aliyun.com/packageSearch?word=openssl "https://developer.aliyun.com/packageSearch?word=openssl")

[https://mirrors.aliyun.com/pub/OpenBSD/OpenSSH/portable/](https://mirrors.aliyun.com/pub/OpenBSD/OpenSSH/portable/ "https://mirrors.aliyun.com/pub/OpenBSD/OpenSSH/portable/")
